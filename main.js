!function(){"use strict";(new class{constructor(){this.container=document.querySelector(".container"),this.form=this.container.querySelector(".form"),this.input=this.form.querySelector(".input"),this.button=this.form.querySelector(".submit"),this.cards=Array.from(this.container.querySelectorAll(".card")),this.messageContainer=this.container.querySelector(".message_container"),this.message=this.messageContainer.querySelector(".message"),this.onSubmit=this.onSubmit.bind(this)}init(){this.form.addEventListener("submit",this.onSubmit)}onSubmit(t){t.preventDefault();const e=function(t){const e=t.split("");let s=0;if(e.length%2==0)for(let t=e.length-1;t>=0;t-=1)if(t%2!=0)s+=+e[t];else{let i=2*+e[t];i>9&&(i-=9),s+=i}else for(let t=e.length-1;t>=0;t-=1)if(t%2==0)s+=+e[t];else{let i=2*+e[t];i>9&&(i-=9),s+=i}return s%10==0}(this.input.value);this.invalidCard(),""===this.input.value?(this.message.textContent="Введите номер карты",this.cards.forEach((t=>{t.classList.remove("valid")}))):e?(this.message.textContent="Верный номер карты",this.input.style.color="green",this.currentCard()):(this.input.style.color="red",this.message.textContent="Такой карты не существует",this.invalidCard())}currentCard(){const t=function(t){const e=String(t),s=e.slice(0,2),i=e.slice(0,3),r=e.slice(0,4),n=e.slice(0,6);if(16===e.length||19===e.length){if(e.startsWith("5018")||e.startsWith("5020")||e.startsWith("5038")||e.startsWith("5893")||e.startsWith("6304")||e.startsWith("6759")||e.startsWith("6761")||e.startsWith("6762")||e.startsWith("6763"))return"maestro";if(Number(n)>=622126&&Number(n)<=622925||Number(i)>=644&&Number(i)<=649||e.startsWith("65")||e.startsWith("6011"))return"discover";if(Number(r)>=3528&&Number(r)<=3589)return"jcb"}if(16===e.length){if(Number(s)>=51&&Number(s)<=55||Number(n)>=222100&&Number(n)<=272099)return"master";if(Number(r)>=2200&&Number(r)<=2204)return"mir"}return 13!==e.length&&16!==e.length&&19!==e.length||!e.startsWith("4")?"Другая платежная система":"visa"}(this.input.value);this.cards.forEach((e=>{e.classList.contains(`${t}`)&&e.classList.add("valid")}))}invalidCard(){this.cards.forEach((t=>{t.classList.contains("valid")&&t.classList.remove("valid")}))}}).init()}();
//# sourceMappingURL=main.js.map